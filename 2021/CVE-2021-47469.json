{
    "id": "CVE-2021-47469",
    "product": "Linux",
    "version": "1da177e4c3f4< aa3f3d7bef59 ",
    "vulnerability": [
        "n/a"
    ],
    "description": "In the Linux kernel, the following vulnerability has been resolved:spi: Fix deadlock when adding SPI controllers on SPI busesCurrently we have a global spi_add_lock which we take when adding newdevices so that we can check that we're not trying to reuse a chipselect that's already controlled.  This means that if the SPI device isitself a SPI controller and triggers the instantiation of further SPIdevices we trigger a deadlock as we try to register and instantiatethose devices while in the process of doing so for the parent controllerand hence already holding the global spi_add_lock.  Since we only careabout concurrency within a single SPI bus move the lock to be percontroller, avoiding the deadlock.This can be easily triggered in the case of spi-mux.",
    "poc": {
        "reference": [
            "No PoCs from references."
        ],
        "github": [
            "https://github.com/w4zu/Debian_security"
        ]
    }
}