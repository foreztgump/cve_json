{
    "id": "CVE-2021-47412",
    "product": "Linux",
    "version": "",
    "vulnerability": [
        "n/a"
    ],
    "description": "In the Linux kernel, the following vulnerability has been resolved:block: don't call rq_qos_ops->done_bio if the bio isn't trackedrq_qos framework is only applied on request based driver, so:1) rq_qos_done_bio() needn't to be called for bio based driver2) rq_qos_done_bio() needn't to be called for bio which isn't tracked,such as bios ended from error handling code.Especially in bio_endio():1) request queue is referred via bio->bi_bdev->bd_disk->queue, whichmay be gone since request queue refcount may not be held in above twocases2) q->rq_qos may be freed in blk_cleanup_queue() when calling into__rq_qos_done_bio()Fix the potential kernel panic by not calling rq_qos_ops->done_bio ifthe bio isn't tracked. This way is safe because both ioc_rqos_done_bio()and blkcg_iolatency_done_bio() are nop if the bio isn't tracked.",
    "poc": {
        "reference": [
            "No PoCs from references."
        ],
        "github": [
            "https://github.com/w4zu/Debian_security"
        ]
    }
}